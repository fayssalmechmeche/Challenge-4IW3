<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<title>
			{% block title %}{% endblock %}
		</title>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<link rel="stylesheet" href="{{ asset('css/mermaid.css') }}"/>
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"/>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>

		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}

		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
		{% endblock %}
	</head>
	<body class="bg-slate-200">
		<div class="mega-container h-auto w-[98vw] flex flex-nowrap justify-start items-start m-0 p-0 overflow-hidden">
			{% include 'admin/navbar_back.html.twig' %}
			<div class="site-content pl-10 my-8 mx-0 min-h-90vh w-content-space-open h-auto rounded-2xl max-sm:pl-2">
				{% block body %}
					{# Ce bloc sera remplacé par le contenu spécifique de chaque page #}
				{% endblock %}
				<div id="toggleDarkMode" class="group fixed bottom-5 left-3 rounded-full p-1 border border-solid border-yellow-500 flex justify-center items-center cursor-pointer hover:bg-yellow-500 transition-all duration-300 ease-out">
					<span class="material-symbols-outlined text-yellow-500 group-hover:text-white transition-all duration-300 ease-out">light_mode</span>
				</div>

				<div id="toggleLightMode" class="group fixed bottom-5 left-3 rounded-full p-1 border border-solid border-white flex justify-center items-center cursor-pointer hover:bg-cyan-500 transition-all duration-300 ease-out hidden">
					<span class="material-symbols-outlined text-white group-hover:text-black transition-all duration-300 ease-out">dark_mode</span>
				</div>
			</div>
		</div>

		<div id="alerts" data-alert="{{ app.session.flashBag.all()|json_encode }} "></div>

		{% block script_js %}
			<script src="{{ asset('js/addFlash.js') }}"></script>
			<script src="{{ asset('js/darkMode.js') }}"></script>
			<script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
			<script src="{{ asset('js/navbar.js') }}"></script>
			<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
			<script>
				console.log(JSON.parse(document.getElementById('alerts').getAttribute('data-alert')))
if (document.getElementById('alerts').dataset.alert != '[]') {
let alerts = JSON.parse(document.getElementById('alerts').dataset.alert)
for (const type in alerts) {
alerts[type].forEach((message) => {
addFlash(type, message)
})
}
}
			</script>
		{% endblock %}
	</body>
</html>
